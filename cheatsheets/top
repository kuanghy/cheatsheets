# top 进程管理工具

# 参数
-b  批处理，配合 -n 参数在 shell 脚本变成中使用
-c  显示完整的启动命令
-H  线程模式
-i  忽略失效进程，即不显示任何闲置 (idle) 或无用 (zombie) 的进程
-O  列出支持的列名
-S  累积模式
-s  保密模式，无法使用交互模式输入指令
-d  <时间>  刷新的间隔时间
-n  <次数>  循环显示的次数，达到该次数后则退出
-u  <用户名>  指定用户名
-p  <进程号>  指定进程（指定多个进程时用 -pN1 -pN2 ... 或 -pN1,N2,N3...）
-o  <字段名>  指定排序字段
-w  <宽度>  指定输出的宽度

# 快捷键
'l' - 开关负载统计显示行
't' - 开关任务和CPU统计显示行
'm' - 开关内存统计显示行
'1' - 开关单 CPU 显示模式
'B' - 开关粗体显示模式
'H' - 开关线程模式
'b' - 高亮当前运行进程
'c' - 打开完整的命令行（显示进程启动时的完整路径和程序名）
'i' - 不显示空闲进程（可以只显示活动的进程）
'R' - 颠倒排序顺序
'u'/'U' - 根据用户过滤进程（可以只显示指定用户的进程）
'x' - 高亮排序列
'y' - 加粗显示当前运行进程
'z' - 开关彩色显示模式
'V' - 切换为树形显示模式（显示进程父子关系）
'M' - 根据驻留内存大小进行排序
'P' - 根据 CPU 使用百分比大小进行排序
'T' - 根据时间/累计时间进行排序
'r' - 重新设置进程优先级（先输入进程ID，在输入优先级值）
'k' - 结束进程
<回车> 或 <空格> - 立即刷新显示

# 显示列管理
按 f 键进入列管理页面（该页面的操作不同系统可能不同，具体可看该页面的说明）
d 或 空格： 选择或者取消某列的显示
上下键：上下选择
右键：选中一列以便调整顺序（通过上下键来移动位置）
左键 或 回车：完成列的移动

# 记录进程的资源占用
top -d 3 -b -c | grep --line-buffered "cmd" | grep ----line-buffered -E -v 'bash|grep'
